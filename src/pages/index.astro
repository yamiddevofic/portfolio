---
import BaseLayout from '../Layouts/BaseLayout.astro';
---

<BaseLayout title="Yamid Rodriguez">
  <div class="diagram-wrapper">
    <!-- Controles de Zoom -->
    <div class="zoom-controls">
      <button id="zoomIn" class="zoom-btn" title="Acercar">+</button>
      <button id="zoomOut" class="zoom-btn" title="Alejar">âˆ’</button>
      <button id="resetZoom" class="zoom-btn reset" title="Restablecer">âŒ‚</button>
      <span class="zoom-level" id="zoomLevel">100%</span>
    </div>
    
    <div id="mermaid-container" class="mermaid-container">
      <div id="mermaid-diagram" class="mermaid-content"></div>
    </div>
  </div>

  <script>
    import mermaid from 'mermaid';

    const diagramDefinition = `
      %%{init: {
        'theme': 'base',
        'themeVariables': {
          'primaryColor': '#6b46c1',
          'secondaryColor': '#805ad5',
          'tertiaryColor': '#ecc94b',
          'lineColor': '#2d3748',
          'background': '#f7fafc',
          'edgeLabelBackground': '#ffffff',
          'nodeBorderRadius': '8',
          'fontFamily': 'Arial, sans-serif',
          'clusterBkg': '#faf5ff',
          'clusterBorder': '#6b46c1'
        },
        'flowchart': {
          'zoom': true,
          'pan': true
        }
      }}%%

      graph TD;

    %% Entidad Central - Yamid Rodriguez (Privada)
    subgraph sg_YR ["ğŸ§  YAMID RODRIGUEZ - Esencia Privada"]
        direction TB
        YR["<b>YAMID RODRIGUEZ</b><br/>ğŸ¯ Persona Integral"]
        
        subgraph YR_Attributes ["ğŸŒŸ Atributos Nucleares"]
            direction TB
            YR_Mental["<b>ğŸ§  MENTAL</b><br/>â€¢ Capacidad analÃ­tica<br/>â€¢ Capacidad de sÃ­ntesis<br/>â€¢ LÃ³gico â€¢ MÃ©todo<br/>â€¢ VisiÃ³n de contexto<br/>â€¢ ObservaciÃ³n â€¢ PercepciÃ³n"]
            YR_Creative["<b>ğŸ¨ CREATIVO</b><br/>â€¢ Creatividad â€¢ EstÃ©tica<br/>â€¢ Habilidad simbÃ³lica<br/>â€¢ Sensibilidad estÃ©tica<br/>â€¢ Pensamiento analÃ³gico<br/>â€¢ Ideas â€¢ Originalidad"]
            YR_Spiritual["<b>ğŸ”® ESPIRITUAL</b><br/>â€¢ Espiritualidad â€¢ IntuiciÃ³n<br/>â€¢ EnergÃ­a subconsciente<br/>â€¢ HolÃ­stica â€¢ Quietud<br/>â€¢ PropÃ³sito â€¢ Sentido"]
            YR_Human["<b>ğŸ‘¤ HUMANO</b><br/>â€¢ ComunicaciÃ³n â€¢ Escucha<br/>â€¢ EmociÃ³n â€¢ Vivencias<br/>â€¢ Valores â€¢ Principios<br/>â€¢ AnÃ©cdotas â€¢ EncarnaciÃ³n"]
            YR_Reflective["<b>ğŸ¤” REFLEXIVO</b><br/>â€¢ Argumentos â€¢ Preguntas<br/>â€¢ Reflexiones â€¢ IntrospecciÃ³n<br/>â€¢ Subjetividad â€¢ Curiosidad<br/>â€¢ Palabra â€¢ Transparencia"]
        end
        
        YR --- YR_Attributes
    end

    %% Marca Personal (PÃºblica)
    subgraph sg_MP ["ğŸŒŸ MARCA PERSONAL - Interface PÃºblica"]
        direction TB
        MP["<b>MARCA PERSONAL</b><br/>ğŸ’¼ ProyecciÃ³n al Mundo"]
        
        subgraph MP_Roles ["ğŸ­ Roles DesempeÃ±ados"]
            direction LR
            MP_Observer["<b>ğŸ‘ï¸ OBSERVADOR</b><br/>â€¢ Observador consciente<br/>â€¢ AnalÃ­tico â€¢ Presente"]
            MP_Integrator["<b>ğŸ”— INTEGRADOR</b><br/>â€¢ Integrador â€¢ Unificador<br/>â€¢ Mediador â€¢ Sabio"]
            MP_Communicator["<b>ğŸ“¢ COMUNICADOR</b><br/>â€¢ Comunicador â€¢ Educador<br/>â€¢ Divulgador â€¢ Compartido"]
            MP_Collaborator["<b>ğŸ¤ COLABORADOR</b><br/>â€¢ Colaborador â€¢ Cooperador<br/>â€¢ Comercial â€¢ Discernido"]
        end
        
        subgraph MP_Qualities ["âœ¨ Cualidades Proyectadas"]
            direction LR
            MP_Intellectual["<b>ğŸ“ INTELECTUAL</b><br/>â€¢ Inteligencia â€¢ Pensante<br/>â€¢ Razonable â€¢ Nerd"]
            MP_Creative_Q["<b>ğŸ¨ CREATIVO</b><br/>â€¢ Creativo â€¢ Talentoso<br/>â€¢ Ãšnico â€¢ Original"]
            MP_Ethical["<b>âš–ï¸ Ã‰TICO</b><br/>â€¢ Valor Ã©tico â€¢ Bondadoso<br/>â€¢ Intuitivo â€¢ PropÃ³sito"]
        end
        
        MP --- MP_Roles
        MP --- MP_Qualities
    end

    %% Ecosistema de Ãreas
    subgraph sg_EcosistemaCompleto ["ğŸŒ ECOSISTEMA DE CONOCIMIENTO"]
        direction TB
        
        subgraph sg_Desarrollo ["ğŸ’» DESARROLLO DE SOFTWARE"]
            direction TB
            Des["<b>ğŸš€ DESARROLLO</b><br/>Soluciones TecnolÃ³gicas"]
            Des_Contrib["<b>ğŸ¯ Contribuciones Clave:</b><br/>â€¢ Creatividad en soluciones<br/>â€¢ VisiÃ³n sistÃ©mica holÃ­stica<br/>â€¢ Sentido estÃ©tico en UX<br/>â€¢ IntuiciÃ³n tecnolÃ³gica<br/>â€¢ PropÃ³sito en productos"]
            Des --- Des_Contrib
        end

        subgraph sg_Tarot ["ğŸ”® TAROT & SIMBOLISMO"]
            direction TB
            Tar["<b>ğŸŒ™ TAROT</b><br/>SabidurÃ­a ArquetÃ­pica"]
            Tar_Contrib["<b>ğŸ´ Contribuciones Clave:</b><br/>â€¢ Apertura de opciones<br/>â€¢ ExploraciÃ³n de posibilidades<br/>â€¢ Conocimiento simbÃ³lico<br/>â€¢ GuÃ­a intuitiva<br/>â€¢ ConexiÃ³n inconsciente"]
            Tar --- Tar_Contrib
        end

        subgraph sg_Filosofia ["ğŸ›ï¸ FILOSOFÃA & REFLEXIÃ“N"]
            direction TB
            Fil["<b>ğŸ“š FILOSOFÃA</b><br/>Pensamiento CrÃ­tico"]
            Fil_Contrib["<b>ğŸ¤” Contribuciones Clave:</b><br/>â€¢ Preguntas fundamentales<br/>â€¢ Reflexiones crÃ­ticas<br/>â€¢ ArgumentaciÃ³n sÃ³lida<br/>â€¢ DefiniciÃ³n de valores<br/>â€¢ EncarnaciÃ³n de ideas"]
            Fil --- Fil_Contrib
        end

        subgraph sg_Psicologia ["ğŸ§  PSICOLOGÃA HUMANA"]
            direction TB
            Psi["<b>ğŸ’­ PSICOLOGÃA</b><br/>ComprensiÃ³n Humana"]
            Psi_Contrib["<b>ğŸ” Contribuciones Clave:</b><br/>â€¢ ComprensiÃ³n profunda<br/>â€¢ AnÃ¡lisis comportamental<br/>â€¢ ExploraciÃ³n emocional<br/>â€¢ Desarrollo personal<br/>â€¢ Procesos terapÃ©uticos"]
            Psi --- Psi_Contrib
        end

        subgraph sg_Fotografia ["ğŸ“¸ ARTE FOTOGRÃFICO"]
            direction TB
            Fot["<b>ğŸ“· FOTOGRAFÃA</b><br/>ExpresiÃ³n Visual"]
            Fot_Contrib["<b>ğŸ¨ Contribuciones Clave:</b><br/>â€¢ Captura de momentos<br/>â€¢ Perdurabilidad visual<br/>â€¢ InspiraciÃ³n estÃ©tica<br/>â€¢ TransmisiÃ³n emocional<br/>â€¢ Narrativa visual"]
            Fot --- Fot_Contrib
        end
    end

    %% Conexiones Principales
    YR -.->|"<b>ğŸ”„ TRANSFORMACIÃ“N CONSCIENTE</b><br/>Observador â†’ Integrador â†’ Sabio<br/>AnalÃ­tico â†’ Humano â†’ Creativo<br/>"| MP;
    
    MP ==>|"<b>âš¡ SINERGIA ACTIVA</b><br/>Integra â€¢ Unifica â€¢ Media<br/>Educa â€¢ Colabora â€¢ Comunica<br/>Comercializa â€¢ Divulga"| sg_EcosistemaCompleto;
    
    sg_EcosistemaCompleto ==>|"<b>ğŸ”„ RETROALIMENTACIÃ“N</b><br/>Conocimiento â€¢ Estructura â€¢ InspiraciÃ³n<br/>MÃ©todos â€¢ Comunidad â€¢ TeorÃ­a<br/>Enfoque â€¢ Entrenamiento â€¢ GuÃ­a"| MP;

    %% Interrelaciones Detalladas entre Ãreas
    
    %% DESARROLLO â†” TAROT
    Des -.->|"<b>ğŸ’»â†’ğŸ”® ESTRUCTURACIÃ“N</b><br/>â€¢ Arquetipos digitales<br/>â€¢ Sistemas de lectura<br/>â€¢ Interfaces simbÃ³licas"| Tar;
    Tar -.->|"<b>ğŸ”®â†’ğŸ’» INTUICIÃ“N</b><br/>â€¢ Lenguaje simbÃ³lico<br/>â€¢ Experiencias mÃ¡gicas<br/>â€¢ Narrativas interactivas"| Des;

    %% DESARROLLO â†” FILOSOFÃA
    Des -.->|"<b>ğŸ’»â†’ğŸ›ï¸ MODELADO</b><br/>â€¢ Sistemas de pensamiento<br/>â€¢ Prototipos racionales<br/>â€¢ Modelos lÃ³gicos"| Fil;
    Fil -.->|"<b>ğŸ›ï¸â†’ğŸ’» FUNDAMENTACIÃ“N</b><br/>â€¢ CrÃ­tica de sistemas<br/>â€¢ Coherencia Ã©tica<br/>â€¢ VisiÃ³n estructural"| Des;

    %% DESARROLLO â†” PSICOLOGÃA
    Des -.->|"<b>ğŸ’»â†’ğŸ§  MODELADO UX</b><br/>â€¢ Experiencias interactivas<br/>â€¢ Comportamiento digital<br/>â€¢ Emociones en interfaces"| Psi;
    Psi -.->|"<b>ğŸ§ â†’ğŸ’» DISEÃ‘O HUMANO</b><br/>â€¢ Modelos de usuario<br/>â€¢ TeorÃ­as de emociÃ³n<br/>â€¢ Centrado en la persona"| Des;

    %% DESARROLLO â†” FOTOGRAFÃA
    Des -.->|"<b>ğŸ’»â†’ğŸ“¸ AUTOMATIZACIÃ“N</b><br/>â€¢ Apps creativas<br/>â€¢ EdiciÃ³n automÃ¡tica<br/>â€¢ Sistemas interactivos"| Fot;
    Fot -.->|"<b>ğŸ“¸â†’ğŸ’» ESTÃ‰TICA</b><br/>â€¢ Riqueza visual<br/>â€¢ Valor emocional<br/>â€¢ Narrativa en productos"| Des;

    %% TAROT â†” FILOSOFÃA
    Tar -.->|"<b>ğŸ”®â†’ğŸ›ï¸ SABIDURÃA</b><br/>â€¢ Arquetipos como ideas<br/>â€¢ Mapas del alma<br/>â€¢ ConexiÃ³n con lo eterno"| Fil;
    Fil -.->|"<b>ğŸ›ï¸â†’ğŸ”® ESTRUCTURA</b><br/>â€¢ Marco metafÃ­sico<br/>â€¢ Lenguaje simbÃ³lico<br/>â€¢ Cosmovisiones profundas"| Tar;

    %% TAROT â†” PSICOLOGÃA
    Tar -.->|"<b>ğŸ”®â†’ğŸ§  INCONSCIENTE</b><br/>â€¢ Lectura emocional<br/>â€¢ DiÃ¡logo interior<br/>â€¢ Proceso terapÃ©utico"| Psi;
    Psi -.->|"<b>ğŸ§ â†’ğŸ”® ANÃLISIS</b><br/>â€¢ SÃ­mbolos del inconsciente<br/>â€¢ Puentes terapÃ©uticos<br/>â€¢ TeorÃ­as de personalidad"| Tar;

    %% TAROT â†” FOTOGRAFÃA
    Tar -.->|"<b>ğŸ”®â†’ğŸ“¸ ARQUETIPOS</b><br/>â€¢ ComposiciÃ³n simbÃ³lica<br/>â€¢ IconografÃ­a mÃ­stica<br/>â€¢ Lectura visual"| Fot;
    Fot -.->|"<b>ğŸ“¸â†’ğŸ”® NARRATIVA</b><br/>â€¢ EstÃ©tica arquetÃ­pica<br/>â€¢ Color emocional<br/>â€¢ Tiempo ritualizado"| Tar;

    %% FILOSOFÃA â†” PSICOLOGÃA
    Fil -.->|"<b>ğŸ›ï¸â†’ğŸ§  Ã‰TICA</b><br/>â€¢ ReflexiÃ³n mental<br/>â€¢ CrÃ­tica de paradigmas<br/>â€¢ Existencial humanista"| Psi;
    Psi -.->|"<b>ğŸ§ â†’ğŸ›ï¸ EMPIRISMO</b><br/>â€¢ Casos reales<br/>â€¢ ComprobaciÃ³n vivencial<br/>â€¢ TeorÃ­as aplicadas"| Fil;

    %% FILOSOFÃA â†” FOTOGRAFÃA
    Fil -.->|"<b>ğŸ›ï¸â†’ğŸ“¸ TEORÃA</b><br/>â€¢ CrÃ­tica estÃ©tica<br/>â€¢ TeorÃ­a de la imagen<br/>â€¢ InterpretaciÃ³n visual"| Fot;
    Fot -.->|"<b>ğŸ“¸â†’ğŸ›ï¸ EXPERIENCIA</b><br/>â€¢ InspiraciÃ³n sensible<br/>â€¢ Pensamiento visual<br/>â€¢ Intimidad reflexiva"| Fil;

    %% PSICOLOGÃA â†” FOTOGRAFÃA
    Psi -.->|"<b>ğŸ§ â†’ğŸ“¸ EXPRESIÃ“N</b><br/>â€¢ DocumentaciÃ³n del yo<br/>â€¢ Estados mentales<br/>â€¢ Terapia visual"| Fot;
    Fot -.->|"<b>ğŸ“¸â†’ğŸ§  CAPTURA</b><br/>â€¢ EmociÃ³n visual<br/>â€¢ RepresentaciÃ³n estÃ©tica<br/>â€¢ Narrativa personal"| Psi;

    %% Estilos Visuales Mejorados
    style sg_YR fill:#667eea,color:#fff,stroke:#4a5568,stroke-width:4px
    style sg_MP fill:#f093fb,color:#fff,stroke:#4a5568,stroke-width:4px
    style sg_EcosistemaCompleto fill:#4facfe,color:#fff,stroke:#2d3748,stroke-width:4px
    
    style YR fill:#e2e8f0,stroke:#4a5568,stroke-width:3px,color:#2d3748
    style MP fill:#fed7d7,stroke:#e53e3e,stroke-width:3px,color:#742a2a
    
    style YR_Attributes fill:#f7fafc,stroke:#718096,stroke-width:2px
    style MP_Roles fill:#fef5e7,stroke:#d69e2e,stroke-width:2px
    style MP_Qualities fill:#e6fffa,stroke:#319795,stroke-width:2px
    
    style sg_Desarrollo fill:#a8edea,stroke:#319795,stroke-width:3px,color:#234e52
    style sg_Tarot fill:#d299c2,stroke:#805ad5,stroke-width:3px,color:#44337a
    style sg_Filosofia fill:#89f7fe,stroke:#3182ce,stroke-width:3px,color:#2a4365
    style sg_Psicologia fill:#fa709a,stroke:#e53e3e,stroke-width:3px,color:#742a2a
    style sg_Fotografia fill:#ffd89b,stroke:#d69e2e,stroke-width:3px,color:#744210
    
    style Des fill:#f0fff4,stroke:#38a169,stroke-width:2px,color:#22543d
    style Tar fill:#faf5ff,stroke:#805ad5,stroke-width:2px,color:#44337a
    style Fil fill:#e6fffa,stroke:#319795,stroke-width:2px,color:#234e52
    style Psi fill:#fff5f5,stroke:#e53e3e,stroke-width:2px,color:#742a2a
    style Fot fill:#fffbeb,stroke:#d69e2e,stroke-width:2px,color:#744210
    `;

    // Variables de zoom y pan
    let currentZoom = 1;
    let isDragging = false;
    let startX = 0;
    let startY = 0;
    let translateX = 0;
    let translateY = 0;
    let diagramElement;

    mermaid.initialize({
      startOnLoad: true,
      securityLevel: 'loose'
    });

    function updateZoomLevel() {
      document.getElementById('zoomLevel').textContent = Math.round(currentZoom * 100) + '%';
    }

    function applyTransform() {
      if (diagramElement) {
        diagramElement.style.transform = `translate(${translateX}px, ${translateY}px) scale(${currentZoom})`;
      }
    }

    function zoomIn() {
      currentZoom = Math.min(currentZoom * 1.2, 8);
      applyTransform();
      updateZoomLevel();
    }

    function zoomOut() {
      currentZoom = Math.max(currentZoom / 1.2, 0.1);
      applyTransform();
      updateZoomLevel();
    }

    function resetZoom() {
      currentZoom = 1;
      translateX = 0;
      translateY = 0;
      applyTransform();
      updateZoomLevel();
    }

    document.addEventListener('DOMContentLoaded', () => {
      mermaid.render('graphDiv', diagramDefinition).then(({ svg }) => {
        const container = document.getElementById('mermaid-diagram');
        container.innerHTML = svg;
        
        diagramElement = container.querySelector('svg');
        diagramElement.style.transformOrigin = 'center center';
        diagramElement.style.transition = 'transform 0.2s ease';

        // Event listeners para controles
        document.getElementById('zoomIn').addEventListener('click', zoomIn);
        document.getElementById('zoomOut').addEventListener('click', zoomOut);
        document.getElementById('resetZoom').addEventListener('click', resetZoom);

        // Zoom con rueda del mouse
        const mermaidContainer = document.getElementById('mermaid-container');
        mermaidContainer.addEventListener('wheel', (e) => {
          e.preventDefault();
          const rect = mermaidContainer.getBoundingClientRect();
          const mouseX = e.clientX - rect.left;
          const mouseY = e.clientY - rect.top;
          
          const prevZoom = currentZoom;
          
          if (e.deltaY < 0) {
            currentZoom = Math.min(currentZoom * 1.1, 8);
          } else {
            currentZoom = Math.max(currentZoom / 1.1, 0.1);
          }
          
          // Ajustar la posiciÃ³n para hacer zoom hacia el cursor
          const zoomFactor = currentZoom / prevZoom;
          translateX = mouseX - (mouseX - translateX) * zoomFactor;
          translateY = mouseY - (mouseY - translateY) * zoomFactor;
          
          applyTransform();
          updateZoomLevel();
        });

        // Pan con arrastrar
        mermaidContainer.addEventListener('mousedown', (e) => {
          if (e.button === 0) { // Solo botÃ³n izquierdo
            isDragging = true;
            startX = e.clientX - translateX;
            startY = e.clientY - translateY;
            mermaidContainer.style.cursor = 'grabbing';
            e.preventDefault();
          }
        });

        document.addEventListener('mousemove', (e) => {
          if (isDragging) {
            translateX = e.clientX - startX;
            translateY = e.clientY - startY;
            applyTransform();
          }
        });

        document.addEventListener('mouseup', () => {
          isDragging = false;
          document.getElementById('mermaid-container').style.cursor = 'grab';
        });

        // Zoom con teclado
        document.addEventListener('keydown', (e) => {
          if (e.ctrlKey || e.metaKey) {
            if (e.key === '+' || e.key === '=') {
              e.preventDefault();
              zoomIn();
            } else if (e.key === '-') {
              e.preventDefault();
              zoomOut();
            } else if (e.key === '0') {
              e.preventDefault();
              resetZoom();
            }
          }
        });

        updateZoomLevel();
      });
    });
  </script>

  <style>
    .diagram-wrapper {
      position: relative;
      width: 100%;
      height: 80vh;
      background: linear-gradient(135deg, rgba(104,16,241,0.05) 0%, rgba(124,77,255,0.05) 100%);
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
      overflow: hidden;
    }

    .zoom-controls {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 10;
      display: flex;
      gap: 8px;
      background: rgba(255, 255, 255, 0.9);
      padding: 8px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
    }

    .zoom-btn {
      width: 36px;
      height: 36px;
      border: none;
      border-radius: 8px;
      background: #6b46c1;
      color: white;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .zoom-btn:hover {
      background: #553c9a;
      transform: scale(1.05);
    }

    .zoom-btn:active {
      transform: scale(0.95);
    }

    .zoom-btn.reset {
      background: #059669;
      font-size: 16px;
    }

    .zoom-btn.reset:hover {
      background: #047857;
    }

    .zoom-level {
      display: flex;
      align-items: center;
      padding: 0 12px;
      font-size: 14px;
      font-weight: 600;
      color: #374151;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 8px;
      min-width: 50px;
      justify-content: center;
    }

    .mermaid-container {
      width: 100%;
      height: 100%;
      padding: 24px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      cursor: grab;
      overflow: hidden;
      position: relative;
    }

    .mermaid-content {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .mermaid-content svg {
      max-width: none !important;
      max-height: none !important;
      cursor: inherit;
    }

    .mermaid-container:active {
      cursor: grabbing;
    }

    /* InformaciÃ³n de controles */
    .diagram-wrapper::after {
      content: "ğŸ’¡ Usa Ctrl + rueda del mouse para zoom, arrastra para mover, o usa los controles";
      position: absolute;
      bottom: 20px;
      left: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      pointer-events: none;
      opacity: 0.8;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .zoom-controls {
        top: 10px;
        right: 10px;
        gap: 4px;
        padding: 6px;
      }
      
      .zoom-btn {
        width: 32px;
        height: 32px;
        font-size: 16px;
      }
      
      .zoom-level {
        padding: 0 8px;
        font-size: 12px;
        min-width: 45px;
      }
      
      .diagram-wrapper::after {
        display: none;
      }
    }
  </style>
</BaseLayout>